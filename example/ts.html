<!DOCTYPE HTML>
<html>

<head>
   <title>JSXC example application</title>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

   <link href="css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" />

   <!-- require:dependencies -->
   <link href="../dist/styles/main.bundle.css" media="all" rel="stylesheet" type="text/css" />
   <!--  endrequire -->

   <link href="css/example.css" media="all" rel="stylesheet" type="text/css" />

   <style>
   #jsxc-role {
      width: 50px;
      height: 50px;
      background-color: #a1a1a1;
      border-radius: 50%;
      position: absolute;
      top: 15px;
      left: 15px;
   }
   .jsxc-master #jsxc-role {
      background-color: green;
   }
   .jsxc-slave #jsxc-role {
      background-color: orange;
   }
   </style>
</head>

<body>

   <div id="jsxc-role"></div>

   <form id="loginForm" style="margin-top: 100px; padding:15px;" class="form-inline">
      <div class="form-group">
         <input class="form-control" type="text" name="url" placeholder="Bosh url" value="/http-bind/" required />
      </div>

      <div class="form-group">
         <input class="form-control" type="email" name="jid" placeholder="Jabber Id" value="" required />
      </div>

      <div class="form-group">
         <input class="form-control" type="password" name="password" placeholder="Password" value="" required />
      </div>

      <button class="btn btn-primary">Login</button>
   </form>

   <p style="padding:15px"><a class="btn btn-danger" href="javascript:jsxc.deleteAllData()">Delete all Data</a>
      <a class="btn btn-default" href="javascript:jsxc.enableDebugMode()">Enable Debug Mode</a>
      <a class="btn btn-default" href="javascript:jsxc.disableDebugMode()">Disable Debug Mode</a></p>

   <p style="padding:15px"><a class="btn btn-default" href="javascript:$('body').removeClass('jsxc-fullscreen jsxc-two-columns')">Normal</a>
         <a class="btn btn-default" href="javascript:$('body').addClass('jsxc-fullscreen jsxc-two-columns')">Two Columns</a>
         <a class="btn btn-default" href="javascript:$('body').removeClass('jsxc-two-columns').addClass('jsxc-fullscreen')">Fullscreen</a></p>

   <!-- require:dependencies -->
   <script src="js/jquery.min.js"></script>
   <script src="js/jquery-ui.min.js"></script>
   <!--  endrequire -->

   <script src="../node_modules/simplebar/dist/simplebar.js"></script>

   <script src="js/bootstrap.min.js"></script>

   <!-- jsxc library -->
   <script src="../dist/main.bundle.js"></script>

   <script>
   $('#loginForm').submit(function(ev){
      // ev.preventDefault();

      var url = $(this).find('[name="url"]').val();
      var jid = $(this).find('[name="jid"]').val();
      var password = $(this).find('[name="password"]').val();

      jsxc.start(url, jid, password)
         .then(function(){
            console.log('>>> CONNECTION READY')
         }).catch(function(err) {
            console.log('>>> catch', err)
         })

      return false;
   });
   </script>
</body>
</html>
